#!/bin/sh
#$ -S /bin/sh
uname -n  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1


date  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1


mkdir /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1 >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1


echo starting copying of fastq file  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
cp /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.fastq /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1


echo starting mapping of fastq file  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
date   >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
/usr/local/bwa/0.5.9/bwa aln -c -l 25 -k 2 -n 10 /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testInput/Rnor5.0_chr1and2/Rattus_norvegicus.Rnor_5.0.71.dna.chromosome.1and2.fa /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.fastq > /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.out 2>> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log


echo starting converting to sam  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
date  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
/usr/local/bwa/0.5.9/bwa samse -r "@RG\tID:F334_F1\tPL:SOLID\tLB:lib_F334\tSM:F334\tDS:solid0042_20101110_PE_F344RatStrain_III" /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testInput/Rnor5.0_chr1and2/Rattus_norvegicus.Rnor_5.0.71.dna.chromosome.1and2.fa /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.out /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.fastq > /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.sam 2>> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log


echo starting converting to bam  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
date   >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
/usr/local/samtools/samtools import /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testInput/Rnor5.0_chr1and2/Rattus_norvegicus.Rnor_5.0.71.dna.chromosome.1and2.fa.fai /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.sam /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.bam >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1


echo starting sorting of bam  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
date   >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
/usr/local/samtools/samtools sort /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.bam /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1_sorted >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1


echo starting copying of bam back to the server  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
date  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
cp /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1_sorted.bam /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.bam


rm -rf /tmp/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1 >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1


echo finished  >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
date   >> /home/wim/Analysis/BWA_Picard_GATK_pipeline_test/testOutput/F334/F334_F1/F3/solid0042_20101110_PE_F344RatStrain_III_Nico_F344_rat_founder_first10000_F3_chunk1.log 2>&1
